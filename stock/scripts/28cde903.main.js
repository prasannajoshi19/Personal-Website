!function(){window.Stock=Ember.Application.create()}(),function(){Stock.IndexController=Ember.Controller.extend({})}(),function(){Stock.ApplicationAdapter=DS.FixtureAdapter}(),function(){Stock.CompanyRoute=Ember.Route.extend({beforeModel:function(){console.log()},model:function(a){this.set("model",a)},setupController:function(a){a.setProperties({data:Stock.get("data"),selectedObj:Stock.get("selectedObj")})}})}(),function(){Stock.IndexRoute=Ember.Route.extend({model:function(){$("body").addClass("loading_div");var a=[{name:"Tata Steel",nseSymbol:"TATASTEEL",bseSymbol:500470,sector:"STEEL - LARGE",price:365.1,faceValue:10,marketCap:49570.83,bookValue:629.6,eps:75.41,dividend:10,month:"March 2014",debtToEquity:.43,currentRatio:.57,yearData:[{year:2005,eps:62.7,bookValue:127,div:13,debtToEquity:.39,currentRatio:.69},{year:2006,eps:63.3,bookValue:176,div:13,debtToEquity:.26,currentRatio:.71},{year:2007,eps:72.7,bookValue:240,div:15.5,debtToEquity:.69,currentRatio:1.69},{year:2008,eps:63.8,bookValue:298,div:16,debtToEquity:1.08,currentRatio:3.81},{year:2009,eps:69.7,bookValue:331,div:16,debtToEquity:1.34,currentRatio:.91},{year:2010,eps:56.3,bookValue:418,div:8,debtToEquity:.68,currentRatio:1.12},{year:2011,eps:71.5,bookValue:487,div:12,debtToEquity:.56,currentRatio:1.53},{year:2012,eps:68.9,bookValue:541,div:12,debtToEquity:.45,currentRatio:.93},{year:2013,eps:52.1,bookValue:568,div:8,debtToEquity:.47,currentRatio:.86},{year:2014,eps:66,bookValue:629,div:10,debtToEquity:.43,currentRatio:.57}],pros:["Steady growth in book value over the years.","Stock is trading at 0.58 of its book value. So stock is undervalued.","Steady EPS and dividend payments.","Debt-Equity ratio is around 0.5. So good Debt-Equity ratio."],cons:["Current ratio is very less.","Company has a low return on equity of 2.99% for last 3 years."]},{name:"Canara Bank",nseSymbol:"CANBK",bseSymbol:532483,sector:"BANKS - PUBLIC SECTOR",price:404.2,faceValue:10,marketCap:18644.08,bookValue:642.16,eps:58.55,dividend:10,month:"March 2014",debtToEquity:"-",currentRatio:.03,yearData:[{year:2005,eps:27.1,bookValue:146.2,div:5.5,debtToEquity:0,currentRatio:.02},{year:2006,eps:32.7,bookValue:171.2,div:6.6,debtToEquity:0,currentRatio:.02},{year:2007,eps:34.6,bookValue:197.8,div:7,debtToEquity:0,currentRatio:.02},{year:2008,eps:38.2,bookValue:202.2,div:8,debtToEquity:0,currentRatio:.02},{year:2009,eps:50.5,bookValue:244.9,div:8,debtToEquity:0,currentRatio:.02},{year:2010,eps:73.7,bookValue:305.8,div:10,debtToEquity:0,currentRatio:.01},{year:2011,eps:90.9,bookValue:405,div:11,debtToEquity:0,currentRatio:.02},{year:2012,eps:74.1,bookValue:465.6,div:11,debtToEquity:0,currentRatio:.03},{year:2013,eps:64.8,bookValue:561.6,div:13,debtToEquity:0,currentRatio:.03},{year:2014,eps:53.2,bookValue:642,div:11,debtToEquity:0,currentRatio:.03}],pros:["Stock is trading at 0.63 of its book value. So stock is undervalued.","Steady growth in Book Value over the years.","Consistent dividend payments.","Good credit-deposit ratio (around 70%)."],cons:["EPS has decreased in recent years.","Company has a low return on equity of 12.38% for last 3 years."]},{name:"JK Lakshmi Cement",nseSymbol:"JKLAKSHMI",bseSymbol:500380,sector:"CEMENT - MAJOR",price:379.95,faceValue:5,marketCap:4470.87,bookValue:110.75,eps:12.11,dividend:"40%",month:"March 2014",debtToEquity:1.08,currentRatio:.68,yearData:[{year:2005,eps:4.7,bookValue:22.8,div:0,debtToEquity:5.5,currentRatio:1.44},{year:2006,eps:11.1,bookValue:36.1,div:0,debtToEquity:3.8,currentRatio:2.01},{year:2007,eps:31.2,bookValue:68.2,div:1,debtToEquity:1.8,currentRatio:1.93},{year:2008,eps:36.6,bookValue:103.7,div:2.5,debtToEquity:1.1,currentRatio:2.3},{year:2009,eps:29.2,bookValue:128.2,div:4,debtToEquity:.88,currentRatio:1.76},{year:2010,eps:19.7,bookValue:80.9,div:2.5,debtToEquity:.91,currentRatio:1.35},{year:2011,eps:4.8,bookValue:84.3,div:1.25,debtToEquity:.97,currentRatio:1.06},{year:2012,eps:8.9,bookValue:96.1,div:2,debtToEquity:.78,currentRatio:1},{year:2013,eps:14.9,bookValue:107.1,div:2.5,debtToEquity:.9,currentRatio:.74},{year:2014,eps:7.9,bookValue:110.8,div:2,debtToEquity:1.08,currentRatio:.68}],pros:["Steady growth in book value in recent years."],cons:["Debt-Equity ratio is too high.","Stock is trading at 3.4 of its book value.","Current ratio is very low in recent years.","EPS is not consistent."]},{name:"Apollo Tyres",nseSymbol:"APOLLOTYRE",bseSymbol:500877,sector:"TYRES",price:183.6,faceValue:1,marketCap:9345.69,bookValue:53.62,eps:11.64,dividend:"75%",month:"March 2014",debtToEquity:.81,currentRatio:.33,yearData:[{year:2005,eps:17.6,bookValue:149.5,div:4.5,debtToEquity:.95,currentRatio:.85},{year:2006,eps:20.4,bookValue:164.5,div:4.5,debtToEquity:1.2,currentRatio:.96},{year:2007,eps:24.5,bookValue:207.7,div:4.5,debtToEquity:.64,currentRatio:.83},{year:2008,eps:4.5,bookValue:25.1,div:.5,debtToEquity:.38,currentRatio:.99},{year:2009,eps:2.15,bookValue:26.8,div:.45,debtToEquity:.51,currentRatio:1.15},{year:2010,eps:8.23,bookValue:34.2,div:.75,debtToEquity:.95,currentRatio:.66},{year:2011,eps:3.9,bookValue:37.6,div:.5,debtToEquity:.83,currentRatio:1.01},{year:2012,eps:3.6,bookValue:40.6,div:.5,debtToEquity:.81,currentRatio:1.05},{year:2013,eps:6.2,bookValue:46.2,div:.5,debtToEquity:.86,currentRatio:.81},{year:2014,eps:8.8,bookValue:54.1,div:.75,debtToEquity:.81,currentRatio:.33}],pros:["Steady growth in book value in recent years.","Consistent dividend payments in recent years."],cons:["Current ratio is low.","Company is trading 3.4 of book value.","Debt-Equity ratio is on the higher side."]}];return new Ember.RSVP.Promise(function(b){Ember.run.later(this,function(){b(a)},500)})},afterModel:function(a){$("body").removeClass("loading_div"),Stock.set("data",a)},setupController:function(a,b){var c,d,e,f,g=b.length;for(f=0;g>f;f+=1){var h=b[f];c=h.price,d=h.eps,e=h.bookValue,Ember.set(h,"pTob",(c/e).toFixed(2)),Ember.set(h,"pToe",(c/d).toFixed(2))}a.set("data",b)}})}(),function(){Stock.AnalysisView=Ember.View.extend({templateName:"analysis",classNames:["wrapper"]})}(),function(){Stock.CompanyView=Ember.View.extend({templateName:"company",classNames:["wrapper"]})}(),function(){Stock.GraphView=Ember.View.extend({templateName:"graph",classNames:["wrapper"],xLabel:"Year",graphColor:"#182C36",startIndex:0,dataHeader:"Book Value",valueString:"bookValue",didInsertElement:function(){this.setInitialData()},change:function(a){var b,c,d,e=$(a.target);e.hasClass("graph_dropdown")?(e=e.find(":selected"),e.hasClass("book_value_option")?(d="Book Value",b="bookValue"):e.hasClass("eps_option")?(d="EPS",b="eps"):e.hasClass("debt_option")?(d="Debt-Equity Ratio",b="debtToEquity"):e.hasClass("dividend_option")?(d="Dividend",b="div"):e.hasClass("current_ratio_option")&&(d="Cureent Ratio",b="currentRatio"),this.setProperties({dataHeader:d,valueString:b}),this.setInitialData()):e.hasClass("year_dropdown")&&(e=e.find(":selected"),e.hasClass("five_year_option")?c=5:e.hasClass("ten_year_option")&&(c=0),this.set("startIndex",c),this.setInitialData())},setInitialData:function(){var a,b,c,d,e,f,g=this.get("controller.selectedObj"),h=g.yearData,i=h.length,j=[],k=[],l=[],m=[],n=[],o=this.get("valueString"),p=this.get("startIndex");for(f=p;i>f;f+=1){e=h[f],a=e[o],b=e.year;var q={year:b,value:a};j.push([f-p,a]),n.push([f-p,b]),l.push(this.get("dataHeader")+": "+a+"<br>Year: "+b),m.push(a),k.push(q)}c=Math.min.apply(null,m),d=Math.max.apply(null,m),this.setProperties({xaxisTicks:n,xMax:i-p-.5,yMin:c,yMax:d,graphData:j,tableData:k,toolTip:l})},drawChart:function(){function a(a,b,c,d){$('<div id="tooltip">'+c+"</div>").css({position:"absolute",display:"none",top:b-25,left:a,border:"1px solid "+d,padding:"3px","font-size":"9px","border-radius":"2px","background-color":"#fff","font-family":"Verdana, Arial, Helvetica, Tahoma, sans-serif",opacity:1,"z-index":16}).appendTo("body").fadeIn(0)}$.plot(this.$(".chart"),[{data:this.get("graphData")}],{series:{bars:{show:!1,barWidth:.3,align:"center",lineWidth:2,fill:!0},lines:{show:!0,fill:!1,lineWidth:2,fillColor:this.get("graphColor")},points:{radius:2,show:!0,fill:!0,fillColor:this.get("graphColor")}},grid:{show:!0,hoverable:!0,clickable:!0,markings:function(a){var b=a.yaxis.min,c=0;return[{color:"black",lineWidth:.8,yaxis:{from:b,to:b}},{color:"black",lineWidth:.8,xaxis:{from:c,to:c}}]},borderWidth:0,mouseActiveRadius:5},colors:[this.get("graphColor")],xaxis:{min:0,max:this.get("xMax"),ticks:this.get("xaxisTicks"),tickWidth:null,tickLength:null,axisLabel:this.get("xLabel"),axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Arial",axisLabelPadding:10},yaxis:{min:0,axisLabel:this.get("dataHeader"),axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Arial",axisLabelPadding:10},contextView:this});console.log(),this.$(".chart").on("plothover",{self:this},function(b,c,d){var e,f,g=b.data.self;g.$("#x").text(c.x.toFixed(2)),g.$("#y").text(c.y.toFixed(2)),d?(e!==d.dataIndex||f!==d.series.label)&&(e=d.dataIndex,f=d.series.label,$("#tooltip").remove(),a(c.pageX,c.pageY,g.get("toolTip")[d.dataIndex],g.get("graphColor"))):($("#tooltip").remove(),e=null)})}.observes("graphData")})}(),function(){Stock.IndexView=Ember.View.extend({templateName:"index",classNames:["home_container"],change:function(a){var b=$(a.target),c=this.get("controller");if(b.hasClass("home_dropdown")){var d,e=b.val(),f=Stock.get("data");"Select Company"===e||"undefined"==typeof e?c.set("companySelected",!1):(d=f.findBy("name",e),c.setProperties({companySelected:!0,selectedObj:d}),this.setMode(!0,!1,!1))}},click:function(a){var b=$(a.target),c=this.get("controller");b.hasClass("number_button")?this.setMode(!0,!1,!1):b.hasClass("graph_button")?this.setMode(!1,!0,!1):b.hasClass("analysis_button")?this.setMode(!1,!1,!0):b.closest(".logo_home").hasClass("logo_home")&&(this.$(".home_dropdown").val("Select Company"),c.set("companySelected",!1))},setMode:function(a,b,c){var d=this.get("controller");d.setProperties({numberShow:a,graphShow:b,analysisShow:c})}})}(),function(){Stock.NumberView=Ember.View.extend({templateName:"number",classNames:["wrapper"]})}(),function(){Stock.Router.map(function(){this.resource("company",{path:"/company/:company_id"})})}();